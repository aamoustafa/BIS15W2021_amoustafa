fill = "Trophic Guild")
homerange %>%
ggplot(aes(x = taxon, fill = trophic.guild)) + geom_bar(position = "dodge") +
coord_flip() +
labs(title = "Observations by Taxon in Homerange Data",
x = "Taxonomic Group",
fill = "Trophic Guild")
homerange %>%
ggplot(aes(x = taxon, fill = trophic.guild)) +
geom_bar(position = "dodge") +
theme(axis.text.x = element_text(angle = 60, hjust = 1)) +
labs(title = "Observations by Taxon in Homerange Data",
x = "Taxonomic Group",
fill= "Trophic Guild")
homerange %>%
ggplot(aes(x = taxon, fill = trophic.guild))+
geom_bar(position = position_fill())+
scale_y_continuous(labels = scales::percent)+
coord_flip()
penguins %>%
ggplot(aes(x=island)) + geom_bar() #count of penguins per island
penguins %>%
ggplot(aes(x=island, fill=species)) + geom_bar(position = "dodge")
penguins %>%
ggplot(aes(x=island, fill=species)) + geom_bar()
penguins %>%
ggplot(aes(x=island, fill=species)) + geom_bar(position = "dodge")
penguins %>%
filter(sex!= "NA") %>%
ggplot(aes(x=island, fill=sex)) + geom_bar(position = "dodge")
homerange %>%
ggplot(aes(x = class, y = log10.mass)) +
geom_boxplot()
homerange %>%
ggplot(aes(x = class, y = log10.mass, group = taxon)) +
geom_boxplot()
homerange %>%
ggplot(aes(x = class, y = log10.mass, fill = taxon)) +
geom_boxplot()
knitr::opts_chunk$set(echo = TRUE)
deserts <- read_csv(here("lab10", "data", "surveys_complete.csv"))
glimpse(deserts)
head(deserts)
summary(deserts)
deserts %>%
miss_var_summary()
deserts %>%
summarize(n_genus = n_distinct(genus),
n_species = n_distinct(species),
n_observations = n())
deserts %>%
count(taxa)
deserts %>%
ggplot(aes(x = taxa)) +
geom_bar() +
scale_y_log10() +
labs(title = "Taxa Observations",
x = "Taxa",
y = "Count") +
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
deserts %>%
ggplot(aes(x= taxa, fill = plot_type)) +
geom_bar()+
scale_y_log10()+
labs(title= "Taxa Proportions",
x= "Taxa",
y="Count") +
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
deserts %>%
filter(weight!="NA") %>%
ggplot(aes(x = reorder(species, weight), y=weight)) +
geom_boxplot() +
coord_flip() +
labs(title = "Species Weight",
x = "Species",
y ="Weight")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
deserts %>%
filter(weight!="NA") %>%
ggplot(aes(x=reorder(species,weight), y=weight))+
geom_boxplot()+
geom_point(size=0.2)+
coord_flip()+
labs(title="Species Weight",
x= "Species",
y="Weight")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
deserts %>%
filter(weight!="NA") %>%
group_by(species) %>%
summarise(mean_weight = mean(weight)) %>%
arrange(desc(mean_weight))
deserts %>%
filter(sex != "NA", weight != "NA", hindfoot_length != "NA") %>%
filter(species == "albigula" | species == "spectabilis") %>%
mutate(weight_hindfoot_ratio = weight/hindfoot_length) %>%
ggplot(aes(x = species, y = weight_hindfoot_ratio, fill = sex)) +
geom_boxplot() +
labs(title = "albigula and spectabilis Weight/Hindfoot Length Ratio",
x = "Species",
y = "Weight to Hindfoot Ratio") +
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
deserts %>%
filter(taxa== "Rodent", sex != "NA", weight != "NA") %>%
ggplot(aes(x=genus, y=weight, fill= species)) +
geom_col()+
coord_flip()+
labs(title="Genus Weights",
x= "Genus",
y="Weight")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
library(here)
options(scipen=999) #cancels the use of scientific notation for the session
deserts <- read_csv(here("lab11", "data", "surveys_complete.csv"))
homerange <- read_csv(here("lab11", "data", "Tamburelloetal_HomeRangeDatabase.csv"))
deserts$year <- as.factor(deserts$year)
homerange <- homerange %>%
mutate(mass_category = case_when(log10.mass <= 1.75 ~ "small",
log10.mass > 1.75 & log10.mass <= 2.75 ~ "medium",
log10.mass > 2.75 ~ "large"))
summary(homerange$log10.hra)
library(gtools)
install.packages("gtools")
library("gtools")
quartiles <- quantcut(homerange$log10.hra)
table(quartiles)
homerange <- homerange %>%
mutate(range_category=case_when(log10.hra<3.65 ~ "very small",
log10.hra >=3.65 & log10.hra <4.59 ~ "small",
log10.hra >=4.59 & log10.hra <6.02 ~ "small",
log10.hra>=6.02 ~ "large"))
glimpse(homerange)
glimpse(homerange)
homerange %>%
ggplot(aes(x=range_category, fill=class)) +
geom_bar(position="dodge")
homerange %>%
ggplot(aes(x=range_category, fill=class)) +
geom_bar()
homerange %>%
ggplot(aes(x=range_category, fill=class)) +
geom_bar(position="dodge")
homerange %>%
filter(range_category=="small") %>%
ggplot(x=class, y=log10.mass, fill=class)+
geom_boxplot(alpha=0.6)
homerange %>%
filter(range_category=="small") %>%
ggplot(aes(x=class, y=log10.mass, fill=class)) +
geom_boxplot(alpha=0.6)
deserts %>%
filter(species_id=="DM" | species_id=="DS") %>%
group_by(year, species_id) %>%
summarise(n=n())
deserts %>%
filter(species_id=="DM" | species_id=="DS") %>%
group_by(year, species_id) %>%
summarise(n=n()) %>%
ggplot(aes(x=year, y=n, group=species_id, color=species_id))+
geom_line()+
geom_point(shape=1)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Number of samples for species DM",
x = "Year",
fill = "n")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_density(fill="steelblue", alpha  =0.6, color = "black")+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x=log10.mass)) +
geom_histogram(aes(y = ..density..), binwidth = .4, fill = "steelblue", alpha = 0.8, color = "black")+
geom_density(color = "red")+
labs(title = "Distribution of Body Mass")
homerange %>%
select(log10.mass) %>%
summarise(min=min(log10.mass),
max=max(log10.mass))
homerange %>%
ggplot(aes(x=range_category, fill=class)) +
geom_bar(position="dodge")
homerange %>%
filter(range_category=="small") %>%
ggplot(aes(x=class, y=log10.mass, fill=class)) +
geom_boxplot(alpha=0.6)
homerange %>%
filter(range_category=="small") %>%
ggplot(aes(x=class, y=log10.mass)) +
geom_boxplot(alpha=0.6)
homerange %>%
filter(range_category=="small") %>%
ggplot(aes(x=class, y=log10.mass, fill=class)) +
geom_boxplot(alpha=0.6)
homerange %>%
filter(range_category=="small") %>%
ggplot(aes(x=class, y=log10.mass, group_by=class)) +
geom_boxplot(alpha=0.6)
homerange %>%
filter(range_category=="small") %>%
ggplot(aes(x=class, y=log10.mass, fill=class)) +
geom_boxplot(alpha=0.6)
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
library(here)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv(here("lab11", "data", "Tamburelloetal_HomeRangeDatabase.csv"))
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p
p+theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
#install.packages("ggthemes")
library(ggthemes)
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
p+ theme_pander()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
?RColorBrewer
display.brewer.pal(8,"PRGn")
display.brewer.pal(9,"PRGn")
display.brewer.pal(55,"PRGn")
display.brewer.pal(8,"PRGn")
p+scale_fill_brewer(palette = "Paired")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
display.brewer.pal()
display.brewer.pal(8,"PRGn")
p+scale_fill_brewer(palette = "Paired")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
scale_colour_brewer()
colors <- paletteer::palettes_d_names
colors <- paletteer::palettes_d_names
colors
my_palette <- paletteer_d("ggsci::hallmarks_light_cosmic")
barplot(rep(1,14), axes=FALSE, col=my_palette)
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
barplot(rep(1,14), axes=FALSE, col=my_palette)
barplot(rep(1,14), axes=FALSE, col=my_palette)
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
barplot(rep(1,14), axes=FALSE, col=my_palette)
homerange %>%
ggplot(aes(x = log10.mass, y = log10.hra, color = locomotion)) +
geom_point() +
xlim(0, 4) +
ylim(1, 6)
p2 <- homerange %>%
ggplot(aes(x = log10.mass)) +
geom_density()
p2+ facet_wrap(~taxon)
p2 <- homerange %>%
ggplot(aes(x = log10.mass)) +
geom_density()
p2 <- homerange %>%
ggplot(aes(x = log10.mass)) +
geom_density()
p2
p2+facet_grid(thermoregulation~class)
?RColorBrewer
brewer.pal.info
display.brewer.pal(8,"Accent")
p+scale_fill_brewer(palette = "Paired")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
scale_fill_brewer()
?scale_fill_brewer
colors <- paletteer::palettes_d_names
colors
colors <- paletteer::palettes_d_names
colors
my_palette <- paletteer_d("ghibli::MarnieLight1")
barplot(rep(1,14), axes=FALSE, col=my_palette)
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
my_palette <- paletteer_d("ggsci::hallmarks_light_cosmic")
barplot(rep(1,14), axes=FALSE, col=my_palette)
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
library(naniar)
#install.packages("gapminder")
library("gapminder")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
library(naniar)
glimpse(gapminder)
#install.packages("gapminder")
library("gapminder")
glimpse(gapminder)
glimpse(gapminder)
summary(gapminder)
gapminder %>%
miss_var_summary()
options(scipen=999)
summary(gapminder)
gapminder %>%
group_by(year)
summary(gapminder)
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=2) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=3) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=4) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=1) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=1) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
theme_linedraw()
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=1) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=1) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=1) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
theme_linedraw()
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=1) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
theme_linedraw()
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=1) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
theme
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=1) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
theme()
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=1) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
theme_stata()
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp))
gapminder %>%
group_by(year) %>%
summarize(mean_lifeExp=mean(lifeExp)) %>%
ggplot(aes(x=year, y=mean_lifeExp)) + geom_line() + geom_point(shape=1) +
labs(title="Average Global Life Expectancy 1952-2007",
x= "Year",
y="Average Life Expectancy")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
theme_linedraw()
